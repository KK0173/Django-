<!DOCTYPE html>
<html lang="zh-CN" style="background: #fff;">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<title>登录/注册</title>
		<meta name="keywords" content="">
		<meta name="description" content="">
		<script src="js/rem.js"></script>
		<script src="js/jquery.min.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="css/base.css" />
		<link rel="stylesheet" type="text/css" href="css/page.css" />
		<link rel="stylesheet" type="text/css" href="css/all.css" />
		<link rel="stylesheet" type="text/css" href="css/mui.min.css" />
		<link rel="stylesheet" type="text/css" href="css/loaders.min.css" />
		<link rel="stylesheet" type="text/css" href="slick/slick.css" />
		<link rel="stylesheet" type="text/css" href="iconfont/iconfont.css" />
	</head>

	<body style="background: #ffff;">
		<!--header star-->
		<header class="mui-bar mui-bar1 mui-bar-nav mui-bar-nav1" id="header" style="background: transparent;">
			<!-- <a class="back-btn" href="javascript:history.go(-1)">
		        <i class="iconfont icon-fanhui"></i>
		    </a> -->
			<!-- <div class="mui-title" style="color: #fff;">登录</div> -->
		</header>
		<!--header end-->

		<div class="warp clearfloat" style="margin: 0;">
			<div class="login-top clearfloat box-s">
				<div class="ge-back"><img src="img/login.png"></div>
				<div class="logo-imgs">
					<img src="img/touxiang.png">
				</div>
			</div>
		</div>
		<div class="tab-account" id='login' style="background: #fff;padding: 0;margin-top: 11%;">
			<ul id="myTab" class="nav nav-tabs login-tabs">
				<li class="active">
					<a href="#xinxi" data-toggle="tab">注册</a>
				</li>
				<li><a href="#mima" data-toggle="tab">登录</a></li>
			</ul>
			<div id="myTabContent" class="tab-content" style="background: #fff; padding: 0.4rem;">
				<div class="tab-pane fade in active" id="xinxi">
					<form role="form">
						<div class="form-group login-group_re">
							<i class="iconfont icon-shoujihaoma"></i>
							<input type="text" class="form-control inpt-form" id="name" v-model="name" placeholder="请输入用户名">
						</div>
						<div class="form-group login-group_re">
							<i class="iconfont icon-mima"></i>
							<!-- <input type="email" class="form-control " placeholder="请输入密码"> -->
							<input data-toggle="password" data-placement="before" data-message="点击显示/隐藏密码" class="form-control inpt-form"
							 type="password" placeholder="请输入密码" v-model="password">
						</div>
						<button type="button" class="conf-btn login-btns" @click="regist">注册</button>
					</form>

				</div>
				<div class="tab-pane fade" id="mima">
					<form role="form">
						<div class="form-group login-group_re">
							<i class="iconfont icon-shoujihaoma"></i>
							<input type="text" class="form-control inpt-form" id="name" placeholder="请输入用户名" v-model="name">
						</div>

						<div class="form-group login-group_re">
							<i class="iconfont icon-mima"></i>
							<input data-toggle="password" data-placement="before" data-message="点击显示/隐藏密码" class="form-control inpt-form"
							 type="password" placeholder="请输入密码" v-model="password">
						</div>
						<a>
							<button type="button" class="conf-btn login-btns" @click="login">登录</button>
						</a>
					</form>
				</div>
			</div>
		</div>

		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<!-- 密码显示隐藏 -->
		<script src="js/bootstrap-show-password.js"></script>
		<script type="text/javascript" src="js/mui.min.js"></script>
		<script type="text/javascript" src="js/hmt.js"></script>
		<script type="text/javascript" src="slick/slick.js"></script>
		<script type="text/javascript" src="js/swiper.min.js"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="js/token.js"></script>

        <script>
            var login=new Vue({
                el:'#login',
                data:{
                    name:'',
                    password:'',
                },
                methods:{
                    regist:function (){
                        axios.post('http://127.0.0.1:8000/',{name:this.name,password:this.password,to:'regist'}).then(function (response){
                            console.log(response)
                            alert(response.data["注册结果"])
                        }).catch(function (err){
                            console.log(err)
                        })
                    },
                    login:function (){
                        axios.post('http://127.0.0.1:8000/',{name:this.name,password:this.password,to:'login'}).then(function (response){
                            alert(response.data["token"])
                            sessionStorage.setItem("token",response.data["token"]);
                            window.location.href="index.html"
                        }).catch(function (err){
                            console.log(err)
                        })
                    }
                }
            })
        </script>
    </body>

</html>
